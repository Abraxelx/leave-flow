<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.geometry.Insets?>

<VBox spacing="0" xmlns:fx="http://javafx.com/fxml" fx:controller="com.halilsahin.leaveflow.ui.MainController">
    <padding>
        <Insets bottom="10" left="10" right="10" top="10" />
    </padding>

    <!-- BaÅŸlÄ±k -->
    <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: linear-gradient(to right, #2196F3, #1976D2); -fx-padding: 20; -fx-background-radius: 8;">
        <!-- Logo -->
        <ImageView fx:id="logoImageView" fitHeight="50" fitWidth="50" preserveRatio="true" />
        
        <!-- Metin Logo (fallback) -->
        <Label fx:id="textLogoLabel" text="LF" style="-fx-font-size: 40px; -fx-font-weight: bold; -fx-text-fill: white; -fx-background-color: #4CAF50; -fx-background-radius: 8; -fx-padding: 8 12;" visible="false" />
        
        <!-- Uygulama Ä°smi ve AÃ§Ä±klama -->
        <VBox spacing="2">
            <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;" text="LeaveFlow" />
            <Label style="-fx-font-size: 14px; -fx-text-fill: #E3F2FD;" text="Ã‡alÄ±ÅŸan Ä°zin YÃ¶netim Sistemi" />
        </VBox>
        
        <Region HBox.hgrow="ALWAYS" />
        
        <!-- HÄ±zlÄ± Ä°zin Ekle Butonu -->
        <Button fx:id="quickAddButton" onAction="#onQuickAddLeave" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 20; -fx-padding: 10 20;" text="HÄ±zlÄ± Ä°zin Ekle" />
    </HBox>

    <!-- Tab Pane -->
    <TabPane fx:id="mainTabPane" VBox.vgrow="ALWAYS" style="-fx-background-color: white;">
        
        <!-- Ã‡alÄ±ÅŸanlar Tab -->
        <Tab fx:id="employeesTab" text="Ã‡alÄ±ÅŸanlar" closable="false">
            <VBox spacing="15">
                <padding>
                    <Insets bottom="15" left="15" right="15" top="15" />
                </padding>
                <!-- Modern baÅŸlÄ±k ve buton kartÄ± -->
                <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #f5f7fa; -fx-padding: 20 24 20 24; -fx-background-radius: 16; -fx-effect: dropshadow(gaussian, #B0BEC5, 8, 0.12, 0, 2);" HBox.hgrow="ALWAYS" VBox.vgrow="NEVER">
                    <Label style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #1976D2;" text="ðŸ‘¥ Ã‡alÄ±ÅŸan Listesi" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button fx:id="addEmployeeButton" onAction="#onAddEmployee" style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 22; -fx-padding: 8 28; -fx-cursor: hand;" text="Yeni Ã‡alÄ±ÅŸan" />
                </HBox>
                <!-- Modern tablo -->
                <TableView fx:id="employeeTable" VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-border-radius: 12; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, #CFD8DC, 6, 0.10, 0, 2);">
                    <columns>
                        <TableColumn text="ID" fx:id="colId" prefWidth="50" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #607D8B;" />
                        <TableColumn text="Ä°sim" fx:id="colName" prefWidth="200" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        <TableColumn text="Ä°ÅŸe GiriÅŸ" fx:id="hireDateColumn" prefWidth="100" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        <TableColumn text="Hizmet SÃ¼resi" fx:id="colServiceYears" prefWidth="100" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        <TableColumn text="YÄ±llÄ±k Ä°zin" fx:id="totalLeaveColumn" prefWidth="100" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        <TableColumn text="Kalan Ä°zin" fx:id="remainingLeaveColumn" prefWidth="100" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        <TableColumn text="ðŸ› ï¸ Ä°ÅŸlemler" fx:id="actionsColumn" prefWidth="120" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                    </columns>
                </TableView>
            </VBox>
        </Tab>
        
        <!-- Ä°zinler Tab -->
        <Tab fx:id="leavesTab" text="Ä°zinler" closable="false">
            <VBox spacing="15">
                <padding>
                    <Insets bottom="15" left="15" right="15" top="15" />
                </padding>
                
                <!-- Filtreler -->
                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Label text="Ã‡alÄ±ÅŸan:" />
                    <ComboBox fx:id="employeeFilterCombo" prefWidth="200" promptText="TÃ¼m Ã‡alÄ±ÅŸanlar" />
                    <Label text="Tarih:" />
                    <DatePicker fx:id="startDateFilter" prefWidth="150" promptText="BaÅŸlangÄ±Ã§" />
                    <Label text="-" />
                    <DatePicker fx:id="endDateFilter" prefWidth="150" promptText="BitiÅŸ" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button onAction="#onFilterLeaves" style="-fx-background-color: #2196F3; -fx-text-fill: white;" text="Filtrele" />
                    <Button onAction="#onClearFilters" style="-fx-background-color: #757575; -fx-text-fill: white;" text="Temizle" />
                </HBox>
                
                <!-- Ä°zin Listesi -->
                <VBox spacing="10">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Ä°zin KayÄ±tlarÄ±" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Button fx:id="exportLeavesButton" onAction="#onExportLeaves" style="-fx-background-color: #4CAF50; -fx-text-fill: white;" text="PDF Raporu" />
                    </HBox>
                    
                    <TableView fx:id="leaveTable" VBox.vgrow="ALWAYS" style="-fx-background-color: white;">
                        <columns>
                            <TableColumn text="ID" fx:id="colLeaveId" prefWidth="50" />
                            <TableColumn text="Ã‡alÄ±ÅŸan" fx:id="colLeaveEmployee" prefWidth="150" />
                            <TableColumn text="Ä°zin TÃ¼rÃ¼" fx:id="colLeaveType" prefWidth="120" />
                            <TableColumn text="BaÅŸlangÄ±Ã§" fx:id="colLeaveStart" prefWidth="100" />
                            <TableColumn text="BitiÅŸ" fx:id="colLeaveEnd" prefWidth="100" />
                            <TableColumn text="SÃ¼re" fx:id="colLeaveDuration" prefWidth="80" />
                            <TableColumn text="Kalan Ä°zin" fx:id="colLeaveRemaining" prefWidth="100" />
                            <TableColumn text="Ä°ÅŸlemler" fx:id="colLeaveActions" prefWidth="100" />
                        </columns>
                    </TableView>
                </VBox>
                
                <!-- Ä°statistikler -->
                <HBox spacing="30" alignment="CENTER" style="-fx-background-color: #f5f5f5; -fx-padding: 15; -fx-background-radius: 5;">
                    <VBox alignment="CENTER" spacing="5">
                        <Label text="Toplam Ä°zin GÃ¼nÃ¼" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
                        <Label fx:id="totalDaysLabel" text="0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2196F3;" />
                    </VBox>
                    <VBox alignment="CENTER" spacing="5">
                        <Label text="Ortalama SÃ¼re" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
                        <Label fx:id="avgDaysLabel" text="0 gÃ¼n" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #4CAF50;" />
                    </VBox>
                    <VBox alignment="CENTER" spacing="5">
                        <Label text="Toplam KayÄ±t" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
                        <Label fx:id="totalRecordsLabel" text="0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #FF9800;" />
                    </VBox>
                </HBox>
            </VBox>
        </Tab>
        
        <!-- Raporlar Tab -->
        <Tab fx:id="reportsTab" text="Raporlar" closable="false">
            <VBox spacing="15">
                <padding>
                    <Insets bottom="15" left="15" right="15" top="15" />
                </padding>
                
                <!-- HÄ±zlÄ± Raporlar -->
                <GridPane hgap="30" vgap="30" style="-fx-padding: 10;" VBox.vgrow="ALWAYS">
                    <VBox alignment="CENTER" spacing="12" style="-fx-background-color: #fff; -fx-padding: 28 24 28 24; -fx-background-radius: 18; -fx-effect: dropshadow(gaussian, #B0BEC5, 12, 0.2, 0, 4); -fx-border-color: transparent;" GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
                        <Label text="ðŸ“„ Genel Rapor" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1976D2;" />
                        <Label text="TÃ¼m izin kayÄ±tlarÄ±" style="-fx-font-size: 13px; -fx-text-fill: #78909C; -fx-font-weight: normal;" />
                        <Button onAction="#onExportGeneralReport" style="-fx-background-color: #1976D2; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 24; -fx-padding: 10 32; -fx-cursor: hand;" text="OluÅŸtur" />
                    </VBox>
                    <VBox alignment="CENTER" spacing="12" style="-fx-background-color: #fff; -fx-padding: 28 24 28 24; -fx-background-radius: 18; -fx-effect: dropshadow(gaussian, #CE93D8, 12, 0.18, 0, 4); -fx-border-color: transparent;" GridPane.columnIndex="1" GridPane.rowIndex="0" GridPane.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
                        <Label text="ðŸ‘¥ Ã‡alÄ±ÅŸan Raporu" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #8E24AA;" />
                        <Label text="Ã‡alÄ±ÅŸan bazlÄ± izinler" style="-fx-font-size: 13px; -fx-text-fill: #9575CD; -fx-font-weight: normal;" />
                        <Button onAction="#onExportEmployeeReport" style="-fx-background-color: #8E24AA; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 24; -fx-padding: 10 32; -fx-cursor: hand;" text="OluÅŸtur" />
                    </VBox>
                    <VBox alignment="CENTER" spacing="12" style="-fx-background-color: #fff; -fx-padding: 28 24 28 24; -fx-background-radius: 18; -fx-effect: dropshadow(gaussian, #A5D6A7, 12, 0.18, 0, 4); -fx-border-color: transparent;" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
                        <Label text="ðŸ“… AylÄ±k Rapor" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #388E3C;" />
                        <Label text="Bu ayÄ±n izinleri" style="-fx-font-size: 13px; -fx-text-fill: #66BB6A; -fx-font-weight: normal;" />
                        <Button onAction="#onExportMonthlyReport" style="-fx-background-color: #388E3C; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 24; -fx-padding: 10 32; -fx-cursor: hand;" text="OluÅŸtur" />
                    </VBox>
                    <VBox alignment="CENTER" spacing="12" style="-fx-background-color: #fff; -fx-padding: 28 24 28 24; -fx-background-radius: 18; -fx-effect: dropshadow(gaussian, #FFCC80, 12, 0.18, 0, 4); -fx-border-color: transparent;" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
                        <Label text="ðŸ“ˆ Ä°statistik Raporu" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #F57C00;" />
                        <Label text="DetaylÄ± analiz" style="-fx-font-size: 13px; -fx-text-fill: #FFB300; -fx-font-weight: normal;" />
                        <Button onAction="#onExportStatsReport" style="-fx-background-color: #F57C00; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 24; -fx-padding: 10 32; -fx-cursor: hand;" text="OluÅŸtur" />
                    </VBox>
                </GridPane>
            </VBox>
        </Tab>
        
        <!-- Ayarlar Tab -->
        <Tab fx:id="settingsTab" text="Ayarlar" closable="false">
            <VBox spacing="15">
                <padding>
                    <Insets bottom="15" left="15" right="15" top="15" />
                </padding>
                
                <!-- Resmi Tatiller -->
                <VBox spacing="10" style="-fx-background-color: #f5f5f5; -fx-padding: 15; -fx-background-radius: 5;">
                    <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Resmi Tatiller" />
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="YÄ±l:" />
                        <TextField fx:id="holidayYearField" prefWidth="100" promptText="2025" />
                        <Button fx:id="updateHolidaysButton" onAction="#onUpdateHolidays" style="-fx-background-color: #2196F3; -fx-text-fill: white;" text="GÃ¼ncelle" />
                        <Label text="(Google Calendar API'den otomatik Ã§eker)" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
                    </HBox>
                    <!-- Tatil Listesi Tablosu -->
                    <TableView fx:id="holidayTable" style="-fx-background-color: white; -fx-border-radius: 8; -fx-background-radius: 8;" prefHeight="180">
                        <columns>
                            <TableColumn fx:id="colHolidayDate" text="Tarih" prefWidth="100" style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                            <TableColumn fx:id="colHolidayDay" text="Hafta GÃ¼nÃ¼" prefWidth="120" style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                            <TableColumn fx:id="colHolidayDesc" text="AÃ§Ä±klama" prefWidth="220" style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        </columns>
                    </TableView>
                </VBox>
                
                <!-- PDF AyarlarÄ± -->
                <VBox spacing="10" style="-fx-background-color: #f5f5f5; -fx-padding: 15; -fx-background-radius: 5;">
                    <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="PDF AyarlarÄ±" />
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <CheckBox fx:id="includeDetailsCheckBox" text="GÃ¼n detaylarÄ±nÄ± dahil et" selected="true" />
                        <CheckBox fx:id="includeStatsCheckBox" text="Ä°statistikleri dahil et" selected="true" />
                    </HBox>
                </VBox>
                
                <!-- VeritabanÄ± -->
                <VBox spacing="10" style="-fx-background-color: #f5f5f5; -fx-padding: 15; -fx-background-radius: 5;">
                    <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="VeritabanÄ±" />
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Button fx:id="backupDatabaseButton" onAction="#onBackupDatabase" style="-fx-background-color: #4CAF50; -fx-text-fill: white;" text="Yedekle" />
                        <Button fx:id="restoreDatabaseButton" onAction="#onRestoreDatabase" style="-fx-background-color: #FF9800; -fx-text-fill: white;" text="Geri YÃ¼kle" />
                        <Button fx:id="resetDatabaseButton" onAction="#onResetDatabase" style="-fx-background-color: #f44336; -fx-text-fill: white;" text="SÄ±fÄ±rla" />
                        <Button fx:id="updateAnnualLeavesButton" onAction="#onUpdateAnnualLeaves" style="-fx-background-color: #1976D2; -fx-text-fill: white;" text="YÄ±llÄ±k Ä°zin HaklarÄ±nÄ± GÃ¼ncelle" />
                    </HBox>
                </VBox>

                <!-- HakkÄ±nda Butonu -->
                <Button fx:id="aboutButton" onAction="#onShowAbout" style="-fx-background-color: #ECEFF1; -fx-text-fill: #1976D2; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 16; -fx-padding: 6 18; -fx-cursor: hand;" text="HakkÄ±nda" HBox.hgrow="ALWAYS" />
            </VBox>
        </Tab>
    </TabPane>

    <HBox alignment="CENTER" style="-fx-padding: 8 0 8 0;">
        <Label text="Â© 2025 Halil Åžahin â€¢ halilsahin.dev@gmail.com" style="-fx-font-size: 12px; -fx-text-fill: #90A4AE;" />
    </HBox>
</VBox> 